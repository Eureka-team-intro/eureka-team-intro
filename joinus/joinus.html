<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="joinus.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <title>Join Us</title>
</head>

<body>
  <div class="container">
    <!-- 상단 제목 -->
    <h3>2조와 함께 해주세요!</h3>
    <!-- 두 영역을 나누는 flex 박스 -->
    <div class="main-content">
      <!-- 왼쪽: 조원 목록 -->
      <div class="left-section">
        <table>
          <tr>
            <th>조원 목록</th>
            <th>역할</th>
          </tr>
          <tr>
            <td>정유민</td>
            <td>조장</td>
          </tr>
          <tr>
            <td>변지민</td>
            <td>조원</td>
          </tr>
          <tr>
            <td>장승범</td>
            <td>조원</td>
          </tr>
          <tr>
            <td>천다인</td>
            <td>조원</td>
          </tr>
          <tr>
            <td>허승현</td>
            <td>조원</td>
          </tr>
          <tr>
            <td>정현경</td>
            <td>조원</td>
          </tr>
        </table>
      </div>

      <!-- 오른쪽: 가입 폼 -->
      <div class="right-section">
        <form id="registerForm" action="">
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">이름</label>
            <input type="text" class="form-control" id="userName" placeholder="Jensen Huang">
          </div>
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">전화번호</label>
            <input type="text" class="form-control" id="phone" placeholder="010-0000-0000">
          </div>
          <label>성별</label>
          <div class="form-check">
            
            <input class="form-check-input" type="radio" name="gender" id="male" value = "M">
            <label class="form-check-label" for="male">
              남
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="gender" id="female" value = "F">
            <label class="form-check-label" for="female">
              여
            </label>
          </div>
          <br>
          <label for="major">전공</label>
          <select class="form-select" aria-label="Major select" name="" id="major">
            <option selected>전공을 선택해주세요</option>
            <option value="CS">Computer Science</option>
            <option value="AI">AI</option>
            <option id="DS" value="DS">Design</option>
            <option id="ET" value="ET">ETCs</option>
          </select>
          <br/>
          <div class="mb-3">
            <label for="desc" class="form-label">하고싶은 말</label>
            <textarea class="form-control" id="desc" rows="3" placeholder="없습니다."></textarea>
          </div>
        </form>
        <br />
        <input id="btnRegister" type="button" value="가입하기" />
      </div>
    </div>
  </div>
  <script>
    // 이미 문서의 마지막에 script를 넣고 있지만, 조금 더 안전한 (dom 문서의 처리가 완료된 후 실행) 방법
    // callback 함수
    window.onload = function () {
      document
        .getElementById("phone")
        .addEventListener("input", function (event) {
          let value = event.target.value.replace(/[^0-9]/g, ""); // 숫자만 남기기
          if (value.length > 3 && value.length <= 7) {
            value = value.replace(/(\d{3})(\d{1,4})/, "$1-$2");
          } else if (value.length > 7) {
            value = value.replace(/(\d{3})(\d{4})(\d{1,4})/, "$1-$2-$3");
          }
          event.target.value = value;
        });
      // register
      document.querySelector("#btnRegister").onclick = function () {
        console.log(document.querySelector("#userName").value);
        console.log(document.querySelector("#phone").value);

        let userName = document.querySelector("#userName").value.trim();
        let phone = document.querySelector("#phone").value.trim();

        if (!userName || !phone) {
          alert("이름과 전화번호를 입력해주세요!");
          return;
        }

        // 조원 목록 추가 기능
        let table = document.querySelector("table");
        let newRow = table.insertRow(-1); // 마지막에 추가
        let nameCell = newRow.insertCell(0);
        let roleCell = newRow.insertCell(1);

        nameCell.textContent = userName;
        roleCell.textContent = "조원"; // 기본 역할

        document.querySelector("#userName").value = "";
        document.querySelector("#phone").value = "";

        // radio
        console.log(
          document.querySelector("input[name='gender']:checked").value
        );

        // select
        console.log(document.querySelector("#major option:checked").value);

        // textarea
        console.log(document.querySelector("#desc").value);
      };
    };
  </script>
  <script src="../gototeam.js"></script>
</body>

</html>